add_subdirectory(extern)

# utils must be before any other subdirectory that might depend on it
add_subdirectory(utils)

add_subdirectory(rhi)
add_subdirectory(hello)

file(GLOB IMPL_SOURCES
    CONFIGURE_DEPENDS
    "${CMAKE_CURRENT_SOURCE_DIR}/*.cpp"
)

nr_add_executable(main main.cpp)
target_link_libraries(main PRIVATE 
    hello
    nrrhi
    slang
)
target_sources(main
	PRIVATE
		${IMPL_SOURCES}
)

source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES
    ${IMPL_SOURCES}
)